<!DOCTYPE html>
<html lang="en">


<head>

  <meta charset="UTF-8">
  <title>Document</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    body {
      background: #666;
    }

    #box {
      width: 1200px;
      height: 700px;
      background: url(img/bg.png) no-repeat;
      position: relative;
      margin: 100px auto;
    }

    #box div {
      width: 400px;
      height: 100px;
      border-radius: 9px;
      position: absolute;
      left: 555px;
      top: 444px;
      /*
 29 
 30             */
      background: url(img/logo.png) no-repeat 280px 56px;
      transform-origin: 35px 50px;
      transition: 1s;
    }

    #box div:nth-of-type(1) {
      padding: 0px;
      line-height: 1.5 !important;
    }

    #box div:nth-of-type(2) {
      background-color: #ce8298;
    }

    #box div:nth-of-type(3) {
      background-color: #f78992;
    }

    #box div:nth-of-type(4) {
      background-color: #fbc0a5;
    }

    #box div:nth-of-type(5) {
      background-color: #f8988f;
    }

    #box div:nth-of-type(6) {
      background-color: #f16273;
    }

    #box div:nth-of-type(7) {
      background-color: #9c9fcd;
    }

    #box div:nth-of-type(8) {
      background-color: #bae2d3;
    }

    #box div:nth-of-type(9) {
      background-color: #43bab8;
    }

    #box div:nth-of-type(10) {
      background-color: #678d95
    }

  </style>
</head>


<body>
  <div id="box">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
  <script>
    console.log(typeof 111)
    window.onload = function () {

      var box = document.getElementById('box');

      var divs = box.getElementsByTagName('div');

      var jilu = true;

      setTimeout(function () {
        go();

      }, 1000);

      //222 270 +48
      //7 237 270 +33
      //6 252 270 +18
      // 15

      //为每个div添加点击事件

      for (var i = 0; i < divs.length - 1; i++) {
        divs[i].index = i;
        divs[i].onclick = function () {

          for (var i = 0; i < divs.length; i++) {
            //当第i个div被点击，其他div的角度

            if (this.index > i) {
              divs[i].style.transform = "rotate(" + (342 - (i * 15) + this.index * 15 - 72 + 10) + "deg)";

            }

            if (this.index < i) {
              divs[i].style.transform = "rotate(" + (342 - (i * 15) + this.index * 15 - 72 - 10) + "deg)";

            }

          }
          //被点击div的角度
          divs[this.index].style.transform = "rotate(" + (342 - (this.index * 15) + this.index * 15 - 72) +
            "deg)";

        }

      }

      //点击最后一个图片，合并扇形
      divs[9].onclick = function () {

        if (jilu) {
          back();

        } else {
          go();

        }
        jilu = !jilu;


      }

      //使扇形打开

      function go() {

        for (var i = 0; i < divs.length; i++) {
          //"rotate("+345-(i*15)+"deg)"
          //不行，因为这样会先算"rotate("+345
          divs[i].style.transform = "rotate(" + (342 - (i * 15)) + "deg)";

        }

      }
      //是扇形合并

      function back() {

        for (var i = 0; i < divs.length; i++) {
          divs[i].style.transform = "rotate(0deg)";

        }

      }

    }



    function GetDateStr(AddDayCount) {
      var dd = new Date();
      dd.setDate(dd.getDate() + AddDayCount); //获取AddDayCount天后的日期
      var y = dd.getFullYear();
      var m = (dd.getMonth() + 1) < 10 ? "0" + (dd.getMonth() + 1) : (dd.getMonth() + 1); //获取当前月份的日期，不足10补0
      var d = dd.getDate() < 10 ? "0" + dd.getDate() : dd.getDate(); //获取当前几号，不足10补0
      return y + "-" + m + "-" + d;
    }

    const someDayLater = (initDate, days, flag) => {
    if (!days) {
        return initDate;
    }
    initDate = initDate.replace(/-/g, '');
    flag = flag.trim();
    var date;
    // 是否设置了起始日期
    if (!initDate) { // 没有设置初始化日期，就默认为当前日期
        date = new Date();
    } else {
        var year = initDate.substring(0, 4);
        var month = initDate.substring(4, 6);
        var day = initDate.substring(6, 8);
        date = new Date(year, month - 1, day); // 月份是从0开始的
    }
    date.setDate(date.getDate() + days);

    var yearStr = date.getFullYear();
    var monthStr = ("0" + (date.getMonth() + 1)).slice(-2, 8); // 拼接2位数月份
    var dayStr = ("0" + date.getDate()).slice(-2, 8); // 拼接2位数日期
    var result = "";
    if (!flag) {
        result = yearStr + "年" + monthStr + "月" + dayStr + "日";
    } else {
        result = yearStr + flag + monthStr + flag + dayStr;
    }
    return result;

}
    console.log("半年前：" + GetDateStr(-180));
    console.log("半年前：" + someDayLater('2019-01-02',-180,"-"));
    console.log("三月前：" + GetDateStr(-90));
    console.log("一月前：" + GetDateStr(-30));
    console.log("昨天：" + GetDateStr(-1));
    console.log("今天：" + GetDateStr(0));
    console.log("明天：" + GetDateStr(1));
    console.log("后天：" + GetDateStr(2));
    console.log("一月后：" + GetDateStr(30));
    console.log("三月后：" + GetDateStr(90));
    console.log("半年后：" + GetDateStr(180));

  </script>
</body>


</html>
