<!DOCTYPE html>
<html>

<head>
  <title>chat</title>
  <script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.js"></script>
</head>
<style type="text/css">
  .message {
    height: 200px;
    width: 200px;
    overflow-y: auto;
  }

</style>

<body>
  <div class="message">
    <!-- <p class='msg'>666</p> -->
  </div>
  <input type="text" name="text" id="text">
  <button id="btn">发送</button>
</body>

</html>
<script type="text/javascript">
  //发送消息
  $("#btn").click(function () {
    closeWebPage()
    // var text = $('#text').val();
    // var html = "<p class='msg'>" + text + "</p>";
    // $(".message").append(html);
    // $('#text').val('');
    // console.log($('.message').children("p:last-child")[0])
    // setTimeout(function () {
    //   ($('.message').children("p:last-child")[0]).scrollIntoView();
    // }, 100);
  })

  function closeWebPage() {
    if (navigator.userAgent.indexOf("MSIE") > 0) { //close IE
      if (navigator.userAgent.indexOf("MSIE 6.0") > 0) {
        window.opener = null;
        window.close();
      } else {
        window.open('', '_top');
        window.top.close();
      }
    } else if (navigator.userAgent.indexOf("Firefox") > 0) { //close firefox
      window.location.href = 'about:blank ';
    } else { //close chrome;It is effective when it is only one.
      window.opener = null;
      window.open('', '_self');
      window.close();
    }
  }

</script>
